<?php declare(strict_types=1);

use GuzzleHttp\Psr7\Request;
use GuzzleHttp\Psr7\Response;

$body = '{"id":"215f4cfac8","name":"Main List","contact":{"company":"TestCompany","address1":"TestAddress1","address2":"","city":"TestCity","state":"","zip":"600","country":"IS","phone":""},"permission_reminder":"Testing Permission Reminder","use_archive_bar":true,"campaign_defaults":{"from_name":"TestFromName","from_email":"testuser+test@example.com","subject":"TestSubject","language":"en"},"notify_on_subscribe":"","notify_on_unsubscribe":"","date_created":"2017-02-20T17:15:58+00:00","list_rating":0,"email_type_option":false,"subscribe_url_short":"https://eepurl.com/test","subscribe_url_long":https:///stefna.us15.list-manage1.com/subscribe?u=00test00&id=00test00","beamer_address":"us15-2f157c56e0-dc439f4822@inbound.mailchimp.com","visibility":"pub","modules":[],"stats":{"member_count":0,"unsubscribe_count":0,"cleaned_count":0,"member_count_since_send":0,"unsubscribe_count_since_send":0,"cleaned_count_since_send":0,"campaign_count":0,"campaign_last_sent":"","merge_field_count":2,"avg_sub_rate":0,"avg_unsub_rate":0,"target_sub_rate":0,"open_rate":0,"click_rate":0,"last_sub_date":"","last_unsub_date":""},"_links":[{"rel":"self","href":"https://us15.api.mailchimp.com/3.0/lists/00test00","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Response.json"},{"rel":"parent","href":"https://us15.api.mailchimp.com/3.0/lists","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists.json"},{"rel":"update","href":"https://us15.api.mailchimp.com/3.0/lists/00test00","method":"PATCH","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Response.json","schema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/PATCH.json"},{"rel":"batch-sub-unsub-members","href":"https://us15.api.mailchimp.com/3.0/lists/00test00","method":"POST","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/BatchPOST-Response.json","schema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/BatchPOST.json"},{"rel":"delete","href":"https://us15.api.mailchimp.com/3.0/lists/00test00","method":"DELETE"},{"rel":"abuse-reports","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/abuse-reports","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Abuse-Reports/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Abuse.json"},{"rel":"activity","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/activity","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Activity/Response.json"},{"rel":"clients","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/clients","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Clients/Response.json"},{"rel":"growth-history","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/growth-history","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Growth-History/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Growth.json"},{"rel":"interest-categories","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/interest-categories","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Interest-Categories/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/InterestCategories.json"},{"rel":"members","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/members","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Members/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Members.json"},{"rel":"merge-fields","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/merge-fields","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Merge-Fields/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/MergeFields.json"},{"rel":"segments","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/segments","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Segments/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Segments.json"},{"rel":"webhooks","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/webhooks","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Webhooks/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Webhooks.json"},{"rel":"signup-forms","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/signup-forms","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/SignupForms/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/SignupForms.json"},{"rel":"locations","href":"https://us15.api.mailchimp.com/3.0/lists/00test00/locations","method":"GET","targetSchema":"https://us15.api.mailchimp.com/schema/3.0/Definitions/Lists/Locations/CollectionResponse.json","schema":"https://us15.api.mailchimp.com/schema/3.0/CollectionLinks/Lists/Locations.json"}]}';
$code = 200;
/** @var Request $request */
$request = $this->lastRequest;
if ($request) {
	$reqBody = $request->getBody();
	$reqBody->rewind();
	$data = json_decode($reqBody->getContents(), true);
	if (isset($data['name']) && $data['name'] === 'MyNewTestListBad') {
		$body = ' array.","instance":"","errors":[{"field":"","message":"Required fields were not provided: permission_reminder, email_type_option, campaign_defaults"},{"field":"contact.zip","message":"Schema describes string, integer found instead"}]}';
		$code = 400;
	}
}
return new Response(
	$code,
	['IsMock' => true],
	$body
);
